{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <!-- FullCalendar JS -->
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    <!-- FullCalendar CSS -->
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js'></script>
    <title>ë‚˜ì—ê²Œ ì“°ëŠ” í¸ì§€</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: auto; }
        
        @font-face {
        font-family: 'KCC-Sonkeechung';
        src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2212@1.0/KCC-Sonkeechung.woff2') format('woff2');
        font-weight: normal;
        font-style: normal;
            }
        h1,h2,ul,button, label, p{
            font-family: 'KCC-Sonkeechung';
        }
    </style>
</head>
<body>
    <header style="position: relative;left: 25%;">
        <h1>A Letter To Myself</h1>
    </header>

    
    <div class="routine-buttons">
        <button onclick="setRoutine('weekly')">ğŸ“… ë§¤ì£¼/ë§¤ì›” í•œ í†µ</button>
        <button onclick="setRoutine('special')">ğŸ‰ íŠ¹ë³„í•œ ë‚ </button>
        <button onclick="setRoutine('mood')">ğŸ˜Š ê°ì •ì— ë”°ë¼</button>
    </div>

    <div class="routine-container">
        <h2>ğŸ“… í¸ì§€ ë£¨í‹´ ì„¤ì •</h2>
        <form id="routineForm">
            <label>ë°˜ë³µ ì£¼ê¸°:</label>
            <select id="routineType">
                <option value="weekly">ë§¤ì£¼</option>
                <option value="monthly">ë§¤ì›”</option>
            </select>
    
         <!-- ìš”ì¼ ì„ íƒ -->
         <div id="weekly-options">
            <label for="day-of-week">ìš”ì¼ ì„ íƒ:</label>
            <select id="day-of-week" name="day_of_week">
                <option value="Monday">ì›”ìš”ì¼</option>
                <option value="Tuesday">í™”ìš”ì¼</option>
                <option value="Wednesday">ìˆ˜ìš”ì¼</option>
                <option value="Thursday">ëª©ìš”ì¼</option>
                <option value="Friday">ê¸ˆìš”ì¼</option>
                <option value="Saturday">í† ìš”ì¼</option>
                <option value="Sunday">ì¼ìš”ì¼</option>
            </select>
        </div>
    
        <!-- ë‚ ì§œ ì„ íƒ -->
        <div id="monthly-options" style="display: none;">
            <label for="day-of-month">ë‚ ì§œ ì„ íƒ:</label>
            <select id="day-of-month" name="day_of_month">
                {% for day in days %}
                    <option value="{{ day }}">{{ day }}ì¼</option>
                {% endfor %}
            </select>
        </div>
    
        <label>ì‹œê°„ ì„ íƒ:</label>
        <input type="time" id="routineTime">
        
        <button type="submit">ğŸ“¬ ë£¨í‹´ ì¶”ê°€</button>
    </form>
    </div>

    <div class="special-date-part">
        <h2>ğŸ“… ê¸°ë…ì¼ ì„¤ì •</h2>
        <label for="special-date">ë‚ ì§œ ì„ íƒ:</label>
        <input type="date" id="special-date">
        <button onclick="saveSpecialDate()">ì €ì¥</button>
    </div>

    <div class="routine-list">
        <h2>ğŸ“– ë‚´ í¸ì§€ ë£¨í‹´</h2>
        <ul>
            <li>ë§¤ì£¼ ì›”ìš”ì¼ - 18:00 <button class="delete-btn">ğŸ—‘</button></li>
            <li>ë§¤ì›” 15ì¼ - 20:00 <button class="delete-btn">ğŸ—‘</button></li>
        </ul>
    </div>
    

    <div class="mood-list">
        <h2>ğŸ˜Š ì˜¤ëŠ˜ ê¸°ë¶„ì€? </h2>
        <label for="mood">ì˜¤ëŠ˜ì˜ ê¸°ë¶„ì„ ì„ íƒí•˜ì„¸ìš”:</label>
        <select name="mood" id="mood">
            <option value="happy">ğŸ˜Š í–‰ë³µ</option>
            <option value="sad">ğŸ˜¢ ìŠ¬í””</option>
            <option value="angry">ğŸ˜¡ í™”ë‚¨</option>
            <option value="worried">ğŸ¤” ê³ ë¯¼</option>
            <option value="diary">ğŸ“ ì¼ê¸°</option>
        </select>
    </div>
    
    <div class="writing">
        <button onclick="goToWritingPage()">í¸ì§€ ì‘ì„±í•˜ê¸°</button>
    </div>

    <h2>ğŸ“… í¸ì§€ ë£¨í‹´ ìº˜ë¦°ë”</h2>
    <div id="calendar"></div> <!-- ìº˜ë¦°ë” í‘œì‹œ ì˜ì—­ -->






    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var calendarEl = document.getElementById('calendar');
            var calendar = new FullCalendar.Calendar(calendarEl, {
                height: 450,
                aspectRatio: 2,
                initialView: 'dayGridMonth',
                stickyHeaderDates: true,
                ihandleWindowResize : true, // ê¸°ë³¸ê°’ | Type : Boolean
                locale: 'ko',
                events: "/api/routines/", // Djangoì—ì„œ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
                
                dateClick: function (info) {
                    alert(info.dateStr + "ì— í¸ì§€ë¥¼ ì‘ì„±í•˜ì„¸ìš”!");
                }
                
            });
            calendar.render();
        });
        
    </script>
    
</body>
</html>



 <!-- {% load static %}
 <form id="routineForm">
    {% csrf_token %}
    <label for="routine-type">ë£¨í‹´ ì„ íƒ:</label>
    <select id="routine-type" name="routine_type" onchange="toggleDateOptions()">
        <option value="weekly">ë§¤ì£¼</option>
        <option value="monthly">ë§¤ì›”</option>
    </select>

     ìš”ì¼ ì„ íƒ
     <div id="weekly-options">
        <label for="day-of-week">ìš”ì¼ ì„ íƒ:</label>
        <select id="day-of-week" name="day_of_week">
            <option value="Monday">ì›”ìš”ì¼</option>
            <option value="Tuesday">í™”ìš”ì¼</option>
            <option value="Wednesday">ìˆ˜ìš”ì¼</option>
            <option value="Thursday">ëª©ìš”ì¼</option>
            <option value="Friday">ê¸ˆìš”ì¼</option>
            <option value="Saturday">í† ìš”ì¼</option>
            <option value="Sunday">ì¼ìš”ì¼</option>
        </select>
    </div>

    ë‚ ì§œ ì„ íƒ
    <div id="monthly-options" style="display: none;">
        <label for="day-of-month">ë‚ ì§œ ì„ íƒ:</label>
        <select id="day-of-month" name="day_of_month">
            {% for day in days %}
                <option value="{{ day }}">{{ day }}ì¼</option>
            {% endfor %}
        </select>
        
    </div>

    <label for="time">ì‹œê°„ ì„ íƒ:</label>
    <input type="time" id="time" name="time">

    <button type="submit">ì €ì¥</button>
</form>
<script src="{% static 'js/script.js' %}"></script>
 
